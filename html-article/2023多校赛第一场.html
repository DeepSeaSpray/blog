<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2023多校赛第一场</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
  <!--add-->
  <link rel="stylesheet" type="text/css" href="../css/backgroung.css">
  <link rel="stylesheet" type="text/css" href="../css/textbox.css">
</head>

<body class="stackedit">
  <div class="stackedit__html">
    <h1><a id="2023_1"></a>2023多校赛第一场</h1>
    <h2><a id="_3"></a>赛时</h2>
    <p>注:题目在HDUOJ上都可以找到</p>
    <p>时间:12:00~17:00,故没睡午觉</p>
    <p>队友:DengDuck,彬彬</p>
    <p>中午吃饭还迟到了.</p>
    <p>先乱翻了一下题,DengDuck切了1009,彬彬切了1002,我做了1005.</p>
    <p>然后就不会了,DengDuck主攻1001,彬彬主攻1010,我乱看,搞机会主义.</p>
    <p>尽管DengDuck,彬彬都想出了正解,但都没打完,我看了1012,推出了一半,不会换根DP祭天.</p>
    <h2><a id="_16"></a>赛后</h2>
    <h3><a id="1001_HideAndSeek_Game_18"></a>1001 Hide-And-Seek Game</h3>
    <p>树上操作+扩展欧几里得</p>
    <p>(未订正)</p>
    <h3><a id="1002_City_Upgrading_23"></a>1002 City Upgrading</h3>
    <p>树形DP</p>
    <p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>f</mi>
                  <mo stretchy="false">[</mo>
                  <mi>i</mi>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mn>0</mn>
                  <mi mathvariant="normal">/</mi>
                  <mn>1</mn>
                  <mi mathvariant="normal">/</mi>
                  <mn>2</mn>
                  <mo stretchy="false">]</mo>
                </mrow>
                <annotation encoding="application/x-tex">f[i][0/1/2]</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord">0/1/2</span><span
                class="mclose">]</span></span></span></span></span>分别表示:该节点未被儿子覆盖,该节点放置路由器,该节点不放置路由器但是被儿子覆盖的情况(所有情况下儿子都要被覆盖).<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <msup>
                    <mi>f</mi>
                    <mo mathvariant="normal" lspace="0em" rspace="0em">′</mo>
                  </msup>
                </mrow>
                <annotation encoding="application/x-tex">f'</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.9463em; vertical-align: -0.1944em;"></span><span class="mord"><span
                  class="mord mathnormal" style="margin-right: 0.1076em;">f</span><span class="msupsub"><span
                    class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class=""
                          style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                            style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
                              class="mord mtight"><span
                                class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span>为未更新的<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>f</mi>
                </mrow>
                <annotation encoding="application/x-tex">f</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal"
                style="margin-right: 0.1076em;">f</span></span></span></span></span></p>
    <p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math
                xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <semantics>
                  <mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em">
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <msup>
                              <mi>f</mi>
                              <mo mathvariant="normal" lspace="0em" rspace="0em">′</mo>
                            </msup>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>2</mn>
                            <mo stretchy="false">]</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <msup>
                              <mi>f</mi>
                              <mo mathvariant="normal" lspace="0em" rspace="0em">′</mo>
                            </msup>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>m</mi>
                            <mi>i</mi>
                            <mi>n</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mi mathvariant="normal">/</mi>
                            <mn>1</mn>
                            <mi mathvariant="normal">/</mi>
                            <mn>2</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>2</mn>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <mi>m</mi>
                            <mi>i</mi>
                            <mi>n</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>2</mn>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>m</mi>
                            <mi>i</mi>
                            <mi>n</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo separator="true">,</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>2</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">)</mo>
                            <mo separator="true">,</mo>
                            <msup>
                              <mi>f</mi>
                              <mo mathvariant="normal" lspace="0em" rspace="0em">′</mo>
                            </msup>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mo stretchy="false">(</mo>
                            <mi>j</mi>
                            <mo>∈</mo>
                            <mi>i</mi>
                            <mi mathvariant="normal">.</mi>
                            <mi>s</mi>
                            <mi>o</mi>
                            <mi>n</mi>
                            <mi>s</mi>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                  </mtable>
                  <annotation encoding="application/x-tex">
                    \begin{aligned}
                    &amp;f[i][0]=f'[i][0]+f[j][2] \\
                    &amp;f[i][1]=f'[i][1]+min(f[j][0/1/2]) \\
                    &amp;f[i][2]=min(f[i][2]+min(f[j][1],f[j][2]),f'[i][0]+f[j][1]) \\
                    &amp;(j \in i.sons)
                    \end{aligned}
                  </annotation>
                </semantics>
              </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                  style="height: 6em; vertical-align: -2.75em;"></span><span class="mord"><span class="mtable"><span
                      class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                            style="height: 3.25em;"><span class="" style="top: -5.25em;"><span class="pstrut"
                                style="height: 2.84em;"></span><span class="mord"></span></span><span class=""
                              style="top: -3.75em;"><span class="pstrut" style="height: 2.84em;"></span><span
                                class="mord"></span></span><span class="" style="top: -2.25em;"><span class="pstrut"
                                style="height: 2.84em;"></span><span class="mord"></span></span><span class=""
                              style="top: -0.75em;"><span class="pstrut" style="height: 2.84em;"></span><span
                                class="mord"></span></span></span><span class="vlist-s">​</span></span><span
                          class="vlist-r"><span class="vlist" style="height: 2.75em;"><span
                              class=""></span></span></span></span></span><span class="col-align-l"><span
                        class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 3.25em;"><span
                              class="" style="top: -5.41em;"><span class="pstrut" style="height: 3em;"></span><span
                                class="mord"><span class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mord"><span
                                    class="mord mathnormal" style="margin-right: 0.1076em;">f</span><span
                                    class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                          style="height: 0.8019em;"><span class=""
                                            style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut"
                                              style="height: 2.7em;"></span><span
                                              class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                                                  class="mord mtight">′</span></span></span></span></span></span></span></span></span><span
                                  class="mopen">[</span><span class="mord mathnormal">i</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
                                  class="mclose">]</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span
                                  class="mclose">]</span></span></span><span class="" style="top: -3.91em;"><span
                                class="pstrut" style="height: 3em;"></span><span class="mord"><span
                                  class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mord"><span
                                    class="mord mathnormal" style="margin-right: 0.1076em;">f</span><span
                                    class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                          style="height: 0.8019em;"><span class=""
                                            style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut"
                                              style="height: 2.7em;"></span><span
                                              class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                                                  class="mord mtight">′</span></span></span></span></span></span></span></span></span><span
                                  class="mopen">[</span><span class="mord mathnormal">i</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord mathnormal">min</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span
                                  class="mord">0/1/2</span><span class="mclose">])</span></span></span><span class=""
                              style="top: -2.41em;"><span class="pstrut" style="height: 3em;"></span><span
                                class="mord"><span class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span
                                  class="mord mathnormal">min</span><span class="mopen">(</span><span
                                  class="mord mathnormal" style="margin-right: 0.1076em;">f</span><span
                                  class="mopen">[</span><span class="mord mathnormal">i</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span
                                  class="mclose">]</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord mathnormal">min</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mpunct">,</span><span class="mspace"
                                  style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">2</span><span
                                  class="mclose">])</span><span class="mpunct">,</span><span class="mspace"
                                  style="margin-right: 0.1667em;"></span><span class="mord"><span
                                    class="mord mathnormal" style="margin-right: 0.1076em;">f</span><span
                                    class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"
                                          style="height: 0.8019em;"><span class=""
                                            style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut"
                                              style="height: 2.7em;"></span><span
                                              class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span
                                                  class="mord mtight">′</span></span></span></span></span></span></span></span></span><span
                                  class="mopen">[</span><span class="mord mathnormal">i</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
                                  class="mclose">]</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">1</span><span
                                  class="mclose">])</span></span></span><span class="" style="top: -0.91em;"><span
                                class="pstrut" style="height: 3em;"></span><span class="mord"><span
                                  class="mord"></span><span class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span class="mspace"
                                  style="margin-right: 0.2778em;"></span><span class="mrel">∈</span><span class="mspace"
                                  style="margin-right: 0.2778em;"></span><span class="mord mathnormal">i</span><span
                                  class="mord">.</span><span class="mord mathnormal">so</span><span
                                  class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span
                                  class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span
                          class="vlist-r"><span class="vlist" style="height: 2.75em;"><span
                              class=""></span></span></span></span></span></span></span></span></span></span></span></span><br>
      上述式子意义分别为:</p>
    <ol>
      <li>既然不能被儿子覆盖,那么儿子就不能放置</li>
      <li>既然该点已经放置,那么儿子的情况就可以任意选取</li>
      <li>儿子之中一定要有一个放置</li>
    </ol>
    <h3><a id="1003_Mr_Liang_play_Card_Game_42"></a>1003 Mr. Liang play Card Game</h3>
    <p>区间DP</p>
    <p><span class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>f</mi>
                  <mo stretchy="false">[</mo>
                  <mi>l</mi>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mi>r</mi>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mi>j</mi>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mi>k</mi>
                  <mo stretchy="false">]</mo>
                </mrow>
                <annotation encoding="application/x-tex">f[l][r][j][k]</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span class="mord mathnormal"
                style="margin-right: 0.0197em;">l</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span
                class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                style="margin-right: 0.0315em;">k</span><span
                class="mclose">]</span></span></span></span></span>表示将区间<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mo stretchy="false">[</mo>
                  <mi>l</mi>
                  <mo separator="true">,</mo>
                  <mi>r</mi>
                  <mo stretchy="false">]</mo>
                </mrow>
                <annotation encoding="application/x-tex">[l,r]</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mpunct">,</span><span
                class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0278em;">r</span><span
                class="mclose">]</span></span></span></span></span>打剩一张等级为<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>j</mi>
                </mrow>
                <annotation encoding="application/x-tex">j</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.854em; vertical-align: -0.1944em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0572em;">j</span></span></span></span></span>,类型为<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>k</mi>
                </mrow>
                <annotation encoding="application/x-tex">k</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.6944em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0315em;">k</span></span></span></span></span>的牌的最大价值,特别的<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>f</mi>
                  <mo stretchy="false">[</mo>
                  <mi>l</mi>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mi>r</mi>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mn>0</mn>
                  <mo stretchy="false">]</mo>
                  <mo stretchy="false">[</mo>
                  <mn>0</mn>
                  <mo stretchy="false">]</mo>
                </mrow>
                <annotation encoding="application/x-tex">f[l][r][0][0]</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span class="mord mathnormal"
                style="margin-right: 0.0197em;">l</span><span class="mclose">]</span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                class="mopen">[</span><span class="mord">0</span><span
                class="mclose">]</span></span></span></span></span>为打出区间<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mo stretchy="false">[</mo>
                  <mi>l</mi>
                  <mo separator="true">,</mo>
                  <mi>r</mi>
                  <mo stretchy="false">]</mo>
                </mrow>
                <annotation encoding="application/x-tex">[l,r]</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span
                class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mpunct">,</span><span
                class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0278em;">r</span><span
                class="mclose">]</span></span></span></span></span>中所有牌的最大代价.<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <msup>
                    <mi>f</mi>
                    <mo mathvariant="normal" lspace="0em" rspace="0em">′</mo>
                  </msup>
                </mrow>
                <annotation encoding="application/x-tex">f'</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.9463em; vertical-align: -0.1944em;"></span><span class="mord"><span
                  class="mord mathnormal" style="margin-right: 0.1076em;">f</span><span class="msupsub"><span
                    class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class=""
                          style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut"
                            style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
                              class="mord mtight"><span
                                class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span>为未更新的<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>f</mi>
                </mrow>
                <annotation encoding="application/x-tex">f</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal"
                style="margin-right: 0.1076em;">f</span></span></span></span></span>,<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>v</mi>
                  <mi>a</mi>
                  <mi>l</mi>
                  <mo stretchy="false">(</mo>
                  <mi>i</mi>
                  <mo separator="true">,</mo>
                  <mi>j</mi>
                  <mo stretchy="false">)</mo>
                </mrow>
                <annotation encoding="application/x-tex">val(i,j)</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0359em;">v</span><span class="mord mathnormal">a</span><span
                class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mopen">(</span><span
                class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace"
                style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0572em;">j</span><span
                class="mclose">)</span></span></span></span></span>为一张等级为<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>i</mi>
                </mrow>
                <annotation encoding="application/x-tex">i</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.6595em;"></span><span
                class="mord mathnormal">i</span></span></span></span></span>类型为<span class="katex--inline"><span
          class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>j</mi>
                </mrow>
                <annotation encoding="application/x-tex">j</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.854em; vertical-align: -0.1944em;"></span><span class="mord mathnormal"
                style="margin-right: 0.0572em;">j</span></span></span></span></span>的牌的价值.</p>
    <p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math
                xmlns="http://www.w3.org/1998/Math/MathML" display="block">
                <semantics>
                  <mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em">
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>k</mi>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <mi>m</mi>
                            <mi>a</mi>
                            <mi>x</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo>−</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>k</mi>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo>+</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo>−</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>k</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">)</mo>
                            <mtext>&nbsp;</mtext>
                            <mo stretchy="false">(</mo>
                            <mn>1</mn>
                            <mo>&lt;</mo>
                            <mi>j</mi>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>k</mi>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <mi>m</mi>
                            <mi>a</mi>
                            <mi>x</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo>−</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo>+</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">)</mo>
                            <mtext>&nbsp;</mtext>
                            <mo stretchy="false">(</mo>
                            <mi>a</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <mi>k</mi>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <mi>m</mi>
                            <mi>a</mi>
                            <mi>x</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>i</mi>
                            <mo>+</mo>
                            <mn>1</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                    <mtr>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow></mrow>
                        </mstyle>
                      </mtd>
                      <mtd>
                        <mstyle scriptlevel="0" displaystyle="true">
                          <mrow>
                            <mrow></mrow>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mn>0</mn>
                            <mo stretchy="false">]</mo>
                            <mo>=</mo>
                            <mi>m</mi>
                            <mi>a</mi>
                            <mi>x</mi>
                            <mo stretchy="false">(</mo>
                            <mi>f</mi>
                            <mo stretchy="false">[</mo>
                            <mi>l</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>r</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>j</mi>
                            <mo stretchy="false">]</mo>
                            <mo stretchy="false">[</mo>
                            <mi>k</mi>
                            <mo stretchy="false">]</mo>
                            <mo>+</mo>
                            <mi>v</mi>
                            <mi>a</mi>
                            <mi>l</mi>
                            <mo stretchy="false">(</mo>
                            <mi>j</mi>
                            <mo separator="true">,</mo>
                            <mi>k</mi>
                            <mo stretchy="false">)</mo>
                            <mo stretchy="false">)</mo>
                          </mrow>
                        </mstyle>
                      </mtd>
                    </mtr>
                  </mtable>
                  <annotation encoding="application/x-tex">
                    \begin{aligned}
                    &amp;f[l][r][j][k]=max(f[l][i][j-1][k]+f[i+1][r][j-1][k]) \ (1&lt;j) \\
                    &amp;f[l][r][1][k]=max(f[l][i-1][0][0]+f[i+1][r][0][0]) \ (a[i]=k) \\
                    &amp;f[l][r][0][0]=max(f[l][i][0][0]+f[i+1][r][0][0]) \\
                    &amp;f[l][r][0][0]=max(f[l][r][j][k]+val(j,k)) \\
                    \end{aligned}
                  </annotation>
                </semantics>
              </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                  style="height: 6em; vertical-align: -2.75em;"></span><span class="mord"><span class="mtable"><span
                      class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist"
                            style="height: 3.25em;"><span class="" style="top: -5.25em;"><span class="pstrut"
                                style="height: 2.84em;"></span><span class="mord"></span></span><span class=""
                              style="top: -3.75em;"><span class="pstrut" style="height: 2.84em;"></span><span
                                class="mord"></span></span><span class="" style="top: -2.25em;"><span class="pstrut"
                                style="height: 2.84em;"></span><span class="mord"></span></span><span class=""
                              style="top: -0.75em;"><span class="pstrut" style="height: 2.84em;"></span><span
                                class="mord"></span></span></span><span class="vlist-s">​</span></span><span
                          class="vlist-r"><span class="vlist" style="height: 2.75em;"><span
                              class=""></span></span></span></span></span><span class="col-align-l"><span
                        class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 3.25em;"><span
                              class="" style="top: -5.41em;"><span class="pstrut" style="height: 3em;"></span><span
                                class="mord"><span class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span
                                  class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                                  class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span class="mclose">])</span><span
                                  class="mspace">&nbsp;</span><span class="mopen">(</span><span
                                  class="mord">1</span><span class="mspace" style="margin-right: 0.2778em;"></span><span
                                  class="mrel">&lt;</span><span class="mspace"
                                  style="margin-right: 0.2778em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span
                                  class="mclose">)</span></span></span><span class="" style="top: -3.91em;"><span
                                class="pstrut" style="height: 3em;"></span><span class="mord"><span
                                  class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span
                                  class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span
                                  class="mclose">]</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">])</span><span
                                  class="mspace">&nbsp;</span><span class="mopen">(</span><span
                                  class="mord mathnormal">a</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace"
                                  style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                                  style="margin-right: 0.2778em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span
                                  class="mclose">)</span></span></span><span class="" style="top: -2.41em;"><span
                                class="pstrut" style="height: 3em;"></span><span class="mord"><span
                                  class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span
                                  class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                                  class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal">i</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                                  style="margin-right: 0.2222em;"></span><span class="mord">1</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span
                                  class="mclose">])</span></span></span><span class="" style="top: -0.91em;"><span
                                class="pstrut" style="height: 3em;"></span><span class="mord"><span
                                  class="mord"></span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span
                                  class="mspace" style="margin-right: 0.2778em;"></span><span
                                  class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.1076em;">f</span><span class="mopen">[</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0278em;">r</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span class="mclose">]</span><span
                                  class="mopen">[</span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span class="mclose">]</span><span
                                  class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span
                                  class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.0359em;">v</span><span class="mord mathnormal">a</span><span
                                  class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span
                                  class="mopen">(</span><span class="mord mathnormal"
                                  style="margin-right: 0.0572em;">j</span><span class="mpunct">,</span><span
                                  class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal"
                                  style="margin-right: 0.0315em;">k</span><span
                                  class="mclose">))</span></span></span></span><span
                            class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                            style="height: 2.75em;"><span
                              class=""></span></span></span></span></span></span></span></span></span></span></span></span><br>
      上述式子意义分别为(务必注意求值顺序):</p>
    <ol>
      <li>枚举断点,用左区间和右区间的两张同类同级的牌合并</li>
      <li>枚举剩余的纸牌,然后打出左右边的所有牌</li>
      <li>枚举断点,分成左右两边分别打完</li>
      <li>先攒出一张高等级的牌,然后打出去</li>
    </ol>
    <h3><a id="1004_Amazing_spacecraft_61"></a>1004 Amazing spacecraft</h3>
    <p>太难了没看</p>
    <h3><a id="1005_Cyclically_Isomorphic_64"></a>1005 Cyclically Isomorphic</h3>
    <p>提供一个崭新的解法,我们将相邻(包括首尾)的两个字符提出来,组成一个组,然后把它们放到数组里排序,接着哈希.</p>
    <p>排序是为了保持其的无序性(因为可以把不同顺序的数组变成一样的顺序),我们不难发现如果两个数组的构造是相同的,那么两个字符串也是循环同构的(因为循环位移并不会改变相邻的两个字母的构成)</p>
    <h3><a id="1006_Escape_The_Maze_69"></a>1006 Escape The Maze</h3>
    <p>太难了没看</p>
    <h3><a id="1007_Travel_72"></a>1007 Travel</h3>
    <p>太难了没看</p>
    <h3><a id="1008_Umamusume_75"></a>1008 Umamusume</h3>
    <p>首先要读懂题意(建议看看赛时讨论).</p>
    <p>首先一般情况下买道具不优,所以我们如果能训练就训练,不然就训练.</p>
    <p>如果<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>n</mi>
                </mrow>
                <annotation encoding="application/x-tex">n</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.4306em;"></span><span
                class="mord mathnormal">n</span></span></span></span></span>为奇数,那么我们将浪费一个回合(但不一定是最后一回合),但是我们可以使用这一回合进行一场比赛,然后用赚到的钱把消耗的体力买回来,买完之后我们就多赚了<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mn>50</mn>
                  <mi>G</mi>
                </mrow>
                <annotation encoding="application/x-tex">50G</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.6833em;"></span><span class="mord">50</span><span
                class="mord mathnormal">G</span></span></span></span></span>,接着我们就用这些钱去买速度就好了.</p>
    <h3><a id="1009_Assertion_82"></a>1009 Assertion</h3>
    <p>抽屉原理,签到题</p>
    <h3><a id="1010_Easy_problem_I_85"></a>1010 Easy problem I</h3>
    <p>用线段树维护,当<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <msub>
                    <mi>a</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>&gt;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>j</mi>
                  </msub>
                </mrow>
                <annotation encoding="application/x-tex">a_i&gt;x_j</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.6891em; vertical-align: -0.15em;"></span><span class="mord"><span
                  class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
                      class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class=""
                          style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                            style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
                              class="mord mathnormal mtight">i</span></span></span></span><span
                        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                        style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span
                class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace"
                style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut"
                style="height: 0.7167em; vertical-align: -0.2861em;"></span><span class="mord"><span
                  class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
                      class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class=""
                          style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                            style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
                              class="mord mathnormal mtight"
                              style="margin-right: 0.0572em;">j</span></span></span></span><span
                        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                        style="height: 0.2861em;"><span
                          class=""></span></span></span></span></span></span></span></span></span></span>时直接减,但是<span
        class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <msub>
                    <mi>a</mi>
                    <mi>i</mi>
                  </msub>
                  <mo>&lt;</mo>
                  <msub>
                    <mi>x</mi>
                    <mi>j</mi>
                  </msub>
                </mrow>
                <annotation encoding="application/x-tex">a_i&lt;x_j</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 0.6891em; vertical-align: -0.15em;"></span><span class="mord"><span
                  class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
                      class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class=""
                          style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                            style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
                              class="mord mathnormal mtight">i</span></span></span></span><span
                        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                        style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span
                class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace"
                style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut"
                style="height: 0.7167em; vertical-align: -0.2861em;"></span><span class="mord"><span
                  class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span
                      class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class=""
                          style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut"
                            style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span
                              class="mord mathnormal mtight"
                              style="margin-right: 0.0572em;">j</span></span></span></span><span
                        class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist"
                        style="height: 0.2861em;"><span
                          class=""></span></span></span></span></span></span></span></span></span></span>时取反,注意懒标记的维护
    </p>
    <p>(虽然说起来简单,但是打起来不容易,建议看标程)</p>
    <h3><a id="1011_Easy_problem_II_90"></a>1011 Easy problem II</h3>
    <p>分块加平衡树</p>
    <p>(未订正)</p>
    <h3><a id="1012_Play_on_Tree_95"></a>1012 Play on Tree</h3>
    <p>SG函数加换根DP</p>
    <p>通过玩手不难发现:<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math
              xmlns="http://www.w3.org/1998/Math/MathML">
              <semantics>
                <mrow>
                  <mi>s</mi>
                  <mi>g</mi>
                  <mo stretchy="false">[</mo>
                  <mi>i</mi>
                  <mo stretchy="false">]</mo>
                  <mo>=</mo>
                  <mi>x</mi>
                  <mi>o</mi>
                  <mi>r</mi>
                  <mo stretchy="false">(</mo>
                  <mi>s</mi>
                  <mi>g</mi>
                  <mo stretchy="false">[</mo>
                  <mi>j</mi>
                  <mo stretchy="false">]</mo>
                  <mo>+</mo>
                  <mn>1</mn>
                  <mo stretchy="false">)</mo>
                  <mtext>&nbsp;</mtext>
                  <mo stretchy="false">(</mo>
                  <mi>j</mi>
                  <mo>∈</mo>
                  <mi>i</mi>
                  <mi mathvariant="normal">.</mi>
                  <mi>s</mi>
                  <mi>o</mi>
                  <mi>n</mi>
                  <mi>s</mi>
                  <mo stretchy="false">)</mo>
                </mrow>
                <annotation encoding="application/x-tex">sg[i]=xor(sg[j]+1) \ (j \in i.sons)</annotation>
              </semantics>
            </math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">s</span><span
                class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="mopen">[</span><span
                class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace"
                style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace"
                style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">x</span><span
                class="mord mathnormal" style="margin-right: 0.0278em;">or</span><span class="mopen">(</span><span
                class="mord mathnormal">s</span><span class="mord mathnormal"
                style="margin-right: 0.0359em;">g</span><span class="mopen">[</span><span class="mord mathnormal"
                style="margin-right: 0.0572em;">j</span><span class="mclose">]</span><span class="mspace"
                style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace"
                style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span
                class="mclose">)</span><span class="mspace">&nbsp;</span><span class="mopen">(</span><span
                class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span class="mspace"
                style="margin-right: 0.2778em;"></span><span class="mrel">∈</span><span class="mspace"
                style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut"
                style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">i</span><span
                class="mord">.</span><span class="mord mathnormal">so</span><span class="mord mathnormal">n</span><span
                class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></span></p>
  </div>
</body>

</html>