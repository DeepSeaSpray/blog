# [2023多校赛第一场](../page/page1.html)

## 赛时
时间:12:00~17:00,故没睡午觉

队友:DengDuck,彬彬

中午吃饭还迟到了.

先乱翻了一下题,DengDuck切了1009,彬彬切了1002,我做了1005.

然后就不会了,DengDuck主攻1001,彬彬主攻1010,我乱看,搞机会主义.

尽管DengDuck,彬彬都想出了正解,但都没打完,我看了1012,推出了一半,不会换根DP祭天.

## 赛后

### 1001 Hide-And-Seek Game
树上操作+扩展欧几里得

(未订正)

### 1002 City Upgrading
树形DP

$f[i][0/1/2]$分别表示:该节点未被儿子覆盖,该节点放置路由器,该节点不放置路由器但是被儿子覆盖的情况(所有情况下儿子都要被覆盖).$f'$为未更新的$f$

$$
\begin{aligned}
    &f[i][0]=f'[i][0]+f[j][2] \\
    &f[i][1]=f'[i][1]+min(f[j][0/1/2]) \\
    &f[i][2]=min(f[i][2]+min(f[j][1],f[j][2]),f'[i][0]+f[j][1]) \\
    &(j \in i.sons)
\end{aligned}
$$
上述式子意义分别为:

1. 既然不能被儿子覆盖,那么儿子就不能放置
2. 既然该点已经放置,那么儿子的情况就可以任意选取
3. 儿子之中一定要有一个放置

### 1003 Mr. Liang play Card Game
区间DP

$f[l][r][j][k]$表示将区间$[l,r]$打剩一张等级为$j$,类型为$k$的牌的最大价值,特别的$f[l][r][0][0]$为打出区间$[l,r]$中所有牌的最大代价.$f'$为未更新的$f$,$val(i,j)$为一张等级为$i$类型为$j$的牌的价值.

$$
\begin{aligned}
    &f[l][r][j][k]=max(f[l][i][j-1][k]+f[i+1][r][j-1][k]) \ (1<j) \\
    &f[l][r][1][k]=max(f[l][i-1][0][0]+f[i+1][r][0][0]) \ (a[i]=k) \\
    &f[l][r][0][0]=max(f[l][i][0][0]+f[i+1][r][0][0]) \\
    &f[l][r][0][0]=max(f[l][r][j][k]+val(j,k)) \\
\end{aligned}
$$
上述式子意义分别为(务必注意求值顺序):
1. 枚举断点,用左区间和右区间的两张同类同级的牌合并
2. 枚举剩余的纸牌,然后打出左右边的所有牌
3. 枚举断点,分成左右两边分别打完
4. 先攒出一张高等级的牌,然后打出去

### 1004 Amazing spacecraft
太难了没看

### 1005 Cyclically Isomorphic
提供一个崭新的解法,我们将相邻(包括首尾)的两个字符提出来,组成一个组,然后把它们放到数组里排序,接着哈希.

排序是为了保持其的无序性(因为可以把不同顺序的数组变成一样的顺序),我们不难发现如果两个数组的构造是相同的,那么两个字符串也是循环同构的(因为循环位移并不会改变相邻的两个字母的构成)

### 1006 Escape The Maze
太难了没看

### 1007 Travel
太难了没看

### 1008 Umamusume
首先要读懂题意(建议看看赛时讨论).

首先一般情况下买道具不优,所以我们如果能训练就训练,不然就训练.

如果$n$为奇数,那么我们将浪费一个回合(但不一定是最后一回合),但是我们可以使用这一回合进行一场比赛,然后用赚到的钱把消耗的体力买回来,买完之后我们就多赚了$50G$,接着我们就用这些钱去买速度就好了.

### 1009 Assertion
抽屉原理,签到题

### 1010 Easy problem I
用线段树维护,当$a_i>x_j$时直接减,但是$a_i<x_j$时取反,注意懒标记的维护

(虽然说起来简单,但是打起来不容易,建议看标程)

### 1011 Easy problem II
分块加平衡树

(未订正)

### 1012 Play on Tree
SG函数加换根DP

通过玩手不难发现:$sg[i]=xor(sg[j]+1) \  (j \in i.sons)$

> 2023年09月08日 / 题解 / FFT