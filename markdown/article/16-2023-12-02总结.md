# 16-2023-12-02总结

> 2023-12-02 / 信息学, 校内模拟赛, 总结

[回到首页](/index.html)

## 前言

校内模拟赛, 题目是`ARC120`的`B`到`E`题, 评级不高, 但思维难度较高.

## [ARC120B] Uniformly Distributed

### 题意概述

有一个$n \times m$的表格, 每一个格子中有`R`, `B`, `.`三种字符中的一种, 其中`R`代表涂了红色, `B`代表涂了蓝色, `.`代表没有涂颜色. 对于没有涂颜色的格子我们可以随便涂上红色或者蓝色, 求有多少种方案使得从表格的左上角走到右下角的每一条路径中红色格子数相等(每一次只能往下或右走).

$n,m \leq 500$.

### 做法分析

首先我们发现如果要求$(n,m)$满足上述条件, 那么$(n-1,m),(n,m-1)$也必须满足上述条件, 并且走到他们各自的红色格子数也必须相同. 其中他们两个颜色相同是满足上述条件的一个必要条件, 以此类推.

换句话说, 如果用下面的方式划分对角线(从右上到左下), 那么每一条对角线上的所有格子颜色相同.

```plain
1234
2345
3456
```

这是必要的, 现在证明其的充分性, 由于每一条路径都刚好经过所有的对角线一次, 又每一条对角线上的颜色相等, 所以每一条路径上的红色格子数必定相等.

现在, 我们只需要判断是否能将每一条对角线化成同一种颜色即可, 如果两种颜色都能转换, 那么答案乘$2$, 如果不能, 答案为$0$. 不多讲.

[查看代码](https://atcoder.jp/contests/arc120/submissions/48190550)

## [ARC120C] Swaps 2

### 题意概述

有两个长度为$n$的序列$a,b$, 可以按照顺序做下列操作若干次.

- 选择一个$i \in [1,n)$.
- 交换$a_i,a_{i+1}$
- $a_i$变为$a_i+1$
- $a_{i+1}$变为$a_{i+1}-1$

例如$1,2$经过一次操作变为$3,0$.

求将$a$变成$b$的最小代价, 如不能输出$-1$.

$n \leq 2\times10^5$.

### 做法分析

首先有交换相邻两个数的问题显然想到逆序对, 然而这个问题不纯, 考虑进行一些变化.

发现如果给每一位的值加上它的下标, 然后进行直接交换, 所有交换完成之后再减去最终位置的下标与上述问题是等价的.

算是常用技巧了, 记一下.

当然了, 由于最终位置也是不确定的, 但是$b$是确定的, 所以我们将$b$中的值也加上下标. 又发现同一值之间的对应关系随便, 显然是按照先后顺序对应最优, 给在$a$中匹配的值分配一个对应$b$的下标, 然后就彻底转换为了逆序对问题.

[查看代码](https://atcoder.jp/contests/arc120/submissions/48191021)

## [ARC120D] Bracket Score 2

### 题意概述

有一个长度为$2n$的序列$a$, 你需要构造一个平衡的括号序列(即合理的), 每一个序列的价值就是匹配的括号$(i,j)$, 的$|a_i-a_j|$的和.

求一个最大价值括号序列.

### 做法分析

首先, 不难发现价值上限就是最大的$n$个数减去剩下的数, 这个上限是可以取到的.

如何证明, 如果把较小的$n$个数标为$0$, 较大的$n$个数标为$1$.

对于一个$0,1$数量相同的序列, 必定有两个$0,1$相邻, 我们可以取出这两个数形成一个括号对, 取出后序列保持原来的性质不变直到取完.

实现上, 我采用链表快速删除, 队列保存括号对的实现方法.

[查看代码](https://atcoder.jp/contests/arc120/submissions/48252099)